<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>URLåœ°å€æ•™ç¨‹</title>
<style type="text/css">
*{word-break:break-all;font-family:arial,\5b8b\4f53,sans-serif;}
body{color:#000000;font-size:14px;margin:0;overflow-x:hidden;}
input,textarea,select,button,td{font-size:14px;}
img{border:none;}
a:link,a:visited,a:active{text-decoration:underline;color:#136EC2}
a:hover{text-decoration:none;}
.head {border-bottom:#CCCCCC 1px solid;text-align:center;padding:15px;margin:0 10px 0 10px;font-family:é»‘ä½“;font-size:20px;}
.text {padding:10px 20px 10px 20px;line-height:150%;}
.foot {background:#FAFAFA;padding:15px;font-size:12px;}
.dsn {display:none;}
.f1 {color:#015D90;padding:0 5px 0 5px;}
.f2 {color:#FF0000;}
.code {font-family:Fixedsys,verdana;color:blue;font-size:12px;border:#CAD9EA 1px dotted;padding:5px 10px 5px 10px;background:#F9FCFF;}
</style>
</head>
<body>
<div class="head">[é™æ€/ä¼ªé™æ€]è‡ªå®šä¹‰URLåœ°å€è¯¦ç»†æ•™ç¨‹</div>
<div class="text">
  <p><strong>ä¸€ã€å¦‚ä½•å¼€å¯è‡ªå®šä¹‰URL</strong><br />
  è¿›å…¥åå°ï¼Œâ€œå†…å®¹ç®¡ç†â€-â€œæ ç›®ç®¡ç†â€ï¼Œé€‰æ‹©ä¿®æ”¹æˆ–è€…æ·»åŠ æ ç›®ï¼Œâ€œURLé…ç½®â€ï¼Œå¼€å¯â€œè‡ªå®šä¹‰URLè§„åˆ™â€ï¼Œå†é…ç½®é€‚åˆè‡ªå·±çš„è§„åˆ™ã€‚</p>
  <p><strong>äºŒã€è§„åˆ™æ ‡ç­¾è¯´æ˜</strong><br />
    {dir} ï¼š&nbsp;&nbsp; è¡¨ç¤ºæ ç›®ç›®å½•<br />
    {pdir}ï¼š&nbsp; è¡¨ç¤ºåŒ…å«çˆ¶çº§å±‚æ¬¡çš„æ ç›®ç›®å½•ï¼ˆ<span class="f1">ä¸èƒ½ä¸{dir}åŒæ—¶å‡ºç°ï¼Œä¸¤è€…äºŒé€‰ä¸€</span>ï¼‰<br />
    {page}ï¼šè¡¨ç¤ºåˆ†é¡µid<br />
    {id}ï¼š&nbsp;&nbsp;&nbsp;&nbsp; è¡¨ç¤ºå†…å®¹æˆ–æ ç›®çš„id<br />
    {y}ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¡¨ç¤ºå¹´ï¼ˆ<span class="f1">å†…å®¹è§„åˆ™ä¸­æœ‰æ•ˆ</span>ï¼‰<br />
    {m}ï¼š&nbsp;&nbsp;&nbsp;&nbsp; è¡¨ç¤ºæœˆï¼ˆ<span class="f1">å†…å®¹è§„åˆ™ä¸­æœ‰æ•ˆ</span>ï¼‰<br />
  {d}ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¡¨ç¤ºæ—¥ï¼ˆ<span class="f1">å†…å®¹è§„åˆ™ä¸­æœ‰æ•ˆ</span>ï¼‰</p>
  <p><strong>ä¸‰ã€ä¸¾ä¾‹è¯´æ˜</strong><br />
    åœ¨æ·»åŠ /ä¿®æ”¹æ ç›®æ—¶å€™ï¼Œä¼šå‘ç°ä¸€ä¸ªé€‰é¡¹â€œURLè®¾ç½®â€ã€‚<br />
    <img src="3-3-1.jpg" tppabs="images/3-3-1.jpg" width="597" height="303" /><br />
    å¦‚ä¸Šå›¾ï¼ŒURLæ ¼å¼4é¡¹å¿…å¡«ï¼Œå¡«å†™è§„åˆ™æœ‰è¯´æ˜ï¼Œç„¶åä¿å­˜ä¹‹åæ›´æ–°ç¼“å­˜å’ŒURLåœ°å€ã€‚<br />
    è®°ä½ä¸€å®šè¦æ›´æ–°ç¼“å­˜å¹¶ä¸”æ›´æ–°URLåœ°å€ï¼Œä¿éšœè§„åˆ™urlç”Ÿæ•ˆã€‚<br />
    è¿™æ—¶ä½ ä¼šå‘ç°ï¼š<br />
    â€œæ–°é—»ï¼ˆnewsï¼‰â€æ ç›®çš„åœ°å€å·²ç»å˜æˆäº†ï¼šhttp://localhost/roxsys/news/china/<br />
  å…¶â€œå†…å®¹é¡µé¢â€çš„åœ°å€å·²ç»å˜æˆäº†ï¼šhttp://localhost/roxsys/news/china/31.html</p>
  <p><span class="f2"><strong>é—®é¢˜æ¥äº†</strong></span>ï¼Œä½ ç‚¹è¿™äº›åœ°å€ï¼Œä¼šä¸ä¼šå‘ç°ä¼šå‡ºç°â€œ404â€é”™è¯¯æˆ–è€…æ˜¯æŒ‡å‘é¦–é¡µï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè§£å†³æ–¹æ¡ˆæœ‰2ç§ã€‚<strong><a name="html" id="html"></a></strong></p>
  <p><strong>æ–¹æ¡ˆ1ã€ç”Ÿæˆé™æ€é¡µé¢</strong><br />
  <img src="3-3-2.jpg" tppabs="images/3-3-2.jpg" width="596" height="312" />  <br />
  è¿™æ˜¯é™æ€ç”Ÿæˆçš„é…ç½®ï¼Œâ€œé™æ€æ–‡ä»¶å¤¹â€æ˜¯æŒ‡é™æ€æ–‡ä»¶ç”Ÿæˆçš„ç›®å½•ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸å¡«ï¼ˆç•™ç©ºï¼‰è¡¨ç¤ºç”Ÿæˆåœ¨æ ¹ç›®å½•<br />
  ï¼ˆå¦‚æœå¡«å†™äº†â€œé™æ€æ–‡ä»¶å¤¹â€ï¼Œåœ°å€å°±ä¼šå˜æˆï¼šhttp://localhost/roxsys/é™æ€æ–‡ä»¶å¤¹/news/china/ï¼‰<br />
  ç„¶åæäº¤ä¿å­˜ï¼Œå†æ¬¡æ›´æ–°ç¼“å­˜å’ŒURLåœ°å€ï¼Œæ¥ä¸‹æ¥å³å¯ç”Ÿæˆé¡µé¢äº†ï¼ˆä¸ç”¨è¯´äº†ï¼Œåœ¨â€œç”Ÿæˆé™æ€â€ä¸­ç”Ÿæˆ~ï¼‰<br />
  <strong><span class="f2">æ³¨æ„ï¼šå¦‚æœå†…å®¹URLæ²¡æœ‰å˜åŒ–çš„è¯è¯·â€œæ›´æ–°å†…å®¹åœ°å€â€</span></strong></p>
  <strong>æ–¹æ¡ˆ2ã€è®¾ç½®ä¼ªé™æ€</strong><br />
  â‘ ã€æŒ‡å‘åœ°å€è¯´æ˜<br />
  æ ç›®åˆ—è¡¨æŒ‡å‘åœ°å€ï¼šindex.php?c=content&amp;a=list&amp;catdir=æ ç›®ç›®å½• æˆ–è€… index.php?c=content&amp;a=list&amp;catid=æ ç›®ID<br />
  æ ç›®åˆ†é¡µæŒ‡å‘åœ°å€ï¼šindex.php?c=content&amp;a=list&amp;catdir=æ ç›®ç›®å½•&amp;page=åˆ†é¡µ æˆ–è€… index.php?c=content&amp;a=list&amp;catid=æ ç›®ID&amp;page=åˆ†é¡µ<br />
  å†…å®¹é¡µé¢æŒ‡å‘åœ°å€ï¼šindex.php?c=content&amp;a=show&amp;id=æ–‡ç« id<br />
  å†…å®¹åˆ†é¡µæŒ‡å‘åœ°å€ï¼šindex.php?c=content&amp;a=show&amp;id=æ–‡ç« id&amp;page=åˆ†é¡µ
  <p>â‘¡ã€ä¸¾ä¾‹è¯´æ˜<br />
    æ ç›®åˆ—è¡¨ï¼šhttp://www.demo.com/list-news.html ï¼ˆ<span class="f1">newsæ˜¯æ ç›®ç›®å½•</span>ï¼‰<br />
    æ ç›®åˆ†é¡µï¼šhttp://www.demo.com/list-news-1.html ï¼ˆ<span class="f1">newsæ˜¯æ ç›®ç›®å½•ï¼Œ1æ˜¯åˆ†é¡µid</span>ï¼‰<br />
    å†…å®¹é¡µé¢ï¼šhttp://www.demo.com/show-1.html ï¼ˆ<span class="f1">1æ˜¯æ–‡ç« çš„id</span>ï¼‰<br />
  å†…å®¹åˆ†é¡µï¼šhttp://www.demo.com/show-1-1.html ï¼ˆ<span class="f1">å‰è€…1æ˜¯æ–‡ç« çš„idï¼Œåè€…1æ˜¯åˆ†é¡µid</span>ï¼‰</p>
  <p><strong>ä¼ªé™æ€æ–¹æ¡ˆä¸€ï¼šä¿®æ”¹æœåŠ¡å™¨ä¼ªé™æ€é…ç½®æ–‡ä»¶</strong><br />
ä»¥apacheä¸ºä¾‹ï¼Œä¿®æ”¹.htaccessæ–‡ä»¶ï¼š<div class="code">RewriteEngine On<br />
RewriteCond %{REQUEST_FILENAME} !-f<br />
RewriteCond %{REQUEST_FILENAME} !-d<br />
RewriteRule ^list-([a-z0-9A-Z]+).html$ index.php?c=content&amp;a=list&amp;catdir=$1 [L]<br />
RewriteRule ^list-([a-z0-9A-Z]+)-([0-9]+).html$ index.php?c=content&amp;a=list&amp;catdir=$1&amp;page=$2 [L]<br />
RewriteRule ^show-([0-9]+).html$ index.php?c=content&amp;a=show&amp;id=$1 [L]<br />
RewriteRule ^show-([0-9]+)-([0-9]+).html$ index.php?c=content&amp;a=show&amp;id=$1&amp;page=$2 [L]</div>
</p>
<p>
ä»¥iisä¸ºä¾‹ï¼Œä¿®æ”¹httpd.iniæ–‡ä»¶ï¼š<div class="code">[ISAPI_Rewrite]<br />
CacheClockRate 3600<br />
RepeatLimit 32<br />
RewriteRule ^(.*)/list-([a-z0-9A-Z]+)\.html$ $1/index.php?c=content&a=list&catdir=$2 [L]<br />
RewriteRule ^(.*)/list-([a-z0-9A-Z]+)-([0-9]+)\.html$ $1/index.php?c=content&a=list&catdir=$2&page=$3 [L]<br />
RewriteRule ^(.*)/show-([0-9]+)\.html$ $1/index.php?c=content&a=show&id=$2 [L]<br />
RewriteRule ^(.*)/show-([0-9]+)-([0-9]+)\.html$ $1/index.php?c=content&a=show&id=$2&page=$3 [L]<br />
</div>
</p>
<p>
ä»¥Nginxä¸ºä¾‹ï¼š<div class="code">
rewrite ^([^\.]*)/list-([a-z0-9A-Z]+)\.html$ $1/index.php?c=content&a=list&catdir=$2 last;<br />
rewrite ^([^\.]*)/list-([a-z0-9A-Z]+)-([0-9]+)\.html$ $1/index.php?c=content&a=list&catdir=$2&page=$3 last;<br />
rewrite ^([^\.]*)/show-([0-9]+)\.html$ $1/index.php?c=content&a=show&id=$2 last;<br />
rewrite ^([^\.]*)/show-([0-9]+)-([0-9]+)\.html$ $1/index.php?c=content&a=show&id=$2&page=$3 last;
</div>
</p>
<p><br />

  <strong>ä¼ªé™æ€æ–¹æ¡ˆäºŒï¼šä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶router.ini.phpï¼ˆApacheæ¨èï¼‰</strong><br />
  å½“ç„¶è¿™ç§æ–¹æ¡ˆçš„å‰æéœ€è¦æœåŠ¡å™¨å¼€å¯ä¼ªé™æ€å¹¶æŒ‡å‘index.phpï¼Œå†æ¬¡è¯´ä¸€ä¸‹æ–¹æ³•ï¼Œ<a href="javascript:if(confirm('http://bbs.roxsys.net/forum.php?mod=viewthread&tid=175  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://bbs.roxsys.net/forum.php?mod=viewthread&tid=175'" tppabs="http://bbs.roxsys.net/forum.php?mod=viewthread&tid=175" target="_blank">goooooo</a>ã€‚<br />
  ä»¥apacheä¸ºä¾‹ï¼Œä¿®æ”¹.htaccessæ–‡ä»¶ï¼š<br />
</p>
<div class="code">RewriteEngine On<br />
  RewriteCond %{REQUEST_FILENAME} !-f<br />
  RewriteCond %{REQUEST_FILENAME} !-d<br />
  RewriteRule !\.(js|ico|gif|jpg|png|css|swf)$ index.php [L]</div>
<p>ç„¶åæ ¹æ®ä¸Šé¢ä½ è‡ªå®šä¹‰çš„è·¯ç”±æ ¼å¼æ¥è®¾è®¡ä¼ªé™æ€æŒ‡å‘ï¼ˆ<strong>ä¸€å®šè¦æ‡‚æ­£åˆ™è¡¨è¾¾å¼</strong>ï¼‰ã€‚<br />
  è§„åˆ™åŒ¹é…æ–‡ä»¶config/router.ini.php ï¼ˆ<span class="f2">ä¸€å®šæ³¨æ„ä¸èƒ½ç”¨è®°äº‹æœ¬ä¹‹ç±»çš„å·¥å…·ä¿®æ”¹</span>ï¼‰<br />
  è§„åˆ™æ ¼å¼å›¾ï¼š<br />
  <img src="3-3-3.jpg" tppabs="images/3-3-3.jpg" width="272" height="171" /> <br />
  æŒ‰ç…§ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡æˆå¦‚ä¸‹åŒ¹é…è§„åˆ™ï¼š<br />
  <img src="3-3-4.jpg" tppabs="images/3-3-4.jpg" width="698" height="267" /> <br />
  </p>
  ç†Ÿæ‚‰æ­£åˆ™è¡¨è¾¾å¼çš„æœ‹å‹åº”è¯¥ä¸€çœ¼èƒ½çœ‹æ‡‚ï¼Œå†æ¬¡å¼ºè°ƒä½¿ç”¨è¯¥æ–¹æ³•ä¸€å®šè¦æ‡‚æ­£åˆ™è¡¨è¾¾å¼å“¦~~</p>
<p class="f2"><strong>æ³¨æ„ï¼šä¼ªé™æ€æ–¹æ¡ˆäºŒçš„æŒ‡å‘åœ°å€ä¸éœ€è¦å†åŠ index.phpäº†</strong></p>
</div>
<div class="foot"><span style="float:right;"><a href="main.html" tppabs="main.html">æ–‡æ¡£é¦–é¡µ</a>&nbsp; | &nbsp;<a href="javascript:window.scrollTo(0,0);">è¿”å›é¡¶éƒ¨</a></span></div>
<br />
</body>
</html>