(function(a,b){a.widget("ui.rangeSliderMouseTouch",a.ui.mouse,{enabled:true,_mouseInit:function(){var c=this;a.ui.mouse.prototype._mouseInit.apply(this);this._mouseDownEvent=false;this.element.bind("touchstart."+this.widgetName,function(d){return c._touchStart(d)})},_mouseDestroy:function(){a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate);a.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=true},disable:function(){this.enabled=false},destroy:function(){this._mouseDestroy();a.ui.mouse.prototype.destroy.apply(this);this._mouseInit=null},_touchStart:function(d){if(!this.enabled){return false}d.which=1;d.preventDefault();this._fillTouchEvent(d);var c=this,e=this._mouseDownEvent;this._mouseDown(d);if(e!==this._mouseDownEvent){this._touchEndDelegate=function(f){c._touchEnd(f)};this._touchMoveDelegate=function(f){c._touchMove(f)};a(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate)}},_mouseDown:function(c){if(!this.enabled){return false}return a.ui.mouse.prototype._mouseDown.apply(this,[c])},_touchEnd:function(c){this._fillTouchEvent(c);this._mouseUp(c);a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate);this._mouseDownEvent=false;a(document).trigger("mouseup")},_touchMove:function(c){c.preventDefault();this._fillTouchEvent(c);return this._mouseMove(c)},_fillTouchEvent:function(c){var d;if(typeof c.targetTouches==="undefined"&&typeof c.changedTouches==="undefined"){d=c.originalEvent.targetTouches[0]||c.originalEvent.changedTouches[0]}else{d=c.targetTouches[0]||c.changedTouches[0]}c.pageX=d.pageX;c.pageY=d.pageY;c.which=1}})}(jQuery));(function(a,b){a.widget("ui.rangeSliderDraggable",a.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){a.ui.rangeSliderMouseTouch.prototype._create.apply(this);setTimeout(a.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null;a.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){if(this._mouseInit){this._initElement()}},_initElement:function(){this._mouseInit();this._cache()},_setOption:function(c,d){if(c==="containment"){if(d===null||a(d).length===0){this.options.containment=null}else{this.options.containment=a(d)}}},_mouseStart:function(c){this._cache();this.cache.click={left:c.pageX,top:c.pageY};this.cache.initialOffset=this.element.offset();this._triggerMouseEvent("mousestart");return true},_mouseDrag:function(d){var c=d.pageX-this.cache.click.left;c=this._constraintPosition(c+this.cache.initialOffset.left);this._applyPosition(c);this._triggerMouseEvent("sliderDrag");return false},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(c){if(this.element.parent().length!==0&&this.cache.parent.offset!==null){c=Math.min(c,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer);c=Math.max(c,this.cache.parent.offset.left)}return c},_applyPosition:function(c){var d={top:this.cache.offset.top,left:c};this.element.offset({left:c});this.cache.offset=d},_cacheIfNecessary:function(){if(this.cache===null){this._cache()}},_cache:function(){this.cache={};this._cacheMargins();this._cacheParent();this._cacheDimensions();this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(this.options.parent!==null){var c=this.element.parent();this.cache.parent={offset:c.offset(),width:c.width()}}else{this.cache.parent=null}},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(d,c){return parseInt(d.css(c),10)||0},_triggerMouseEvent:function(c){var d=this._prepareEventData();this.element.trigger(c,d)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery));(function(a,b){a.widget("ui.rangeSliderHandle",a.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:true,bounds:{min:0,max:100},range:false,value:0,step:false},_value:0,_left:0,_create:function(){a.ui.rangeSliderDraggable.prototype._create.apply(this);this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft);this.element.append("<div class='ui-rangeSlider-handle-inner' />");this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty();a.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(c,d){if(c==="isLeft"&&(d===true||d===false)&&d!==this.options.isLeft){this.options.isLeft=d;
this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft);this._position(this._value);this.element.trigger("switch",this.options.isLeft)}else{if(c==="step"&&this._checkStep(d)){this.options.step=d;this.update()}else{if(c==="bounds"){this.options.bounds=d;this.update()}else{if(c==="range"&&this._checkRange(d)){this.options.range=d;this.update()}else{if(c==="symmetricPositionning"){this.options.symmetricPositionning=d===true;this.update()}}}}}a.ui.rangeSliderDraggable.prototype._setOption.apply(this,[c,d])},_checkRange:function(c){return c===false||(!this._isValidValue(c.min)&&!this._isValidValue(c.max))},_isValidValue:function(c){return typeof c!=="undefined"&&c!==false&&parseFloat(c)!==c},_checkStep:function(c){return(c===false||parseFloat(c)===c)},_initElement:function(){a.ui.rangeSliderDraggable.prototype._initElement.apply(this);if(this.cache.parent.width===0||this.cache.parent.width===null){setTimeout(a.proxy(this._initElementIfNotDestroyed,this),500)}else{this._position(this._value);this._triggerMouseEvent("initialize")}},_bounds:function(){return this.options.bounds},_cache:function(){a.ui.rangeSliderDraggable.prototype._cache.apply(this);this._cacheParent()},_cacheParent:function(){var c=this.element.parent();this.cache.parent={element:c,offset:c.offset(),padding:{left:this._parsePixels(c,"paddingLeft")},width:c.width()}},_position:function(c){var d=this._getPositionForValue(c);this._applyPosition(d)},_constraintPosition:function(c){var d=this._getValueForPosition(c);return this._getPositionForValue(d)},_applyPosition:function(c){a.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[c]);this._left=c;this._setValue(this._getValueForPosition(c));this._triggerMouseEvent("moving")},_prepareEventData:function(){var c=a.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);c.value=this._value;return c},_setValue:function(c){if(c!==this._value){this._value=c}},_constraintValue:function(e){e=Math.min(e,this._bounds().max);e=Math.max(e,this._bounds().min);e=this._round(e);if(this.options.range!==false){var d=this.options.range.min||false,c=this.options.range.max||false;if(d!==false){e=Math.max(e,this._round(d))}if(c!==false){e=Math.min(e,this._round(c))}e=Math.min(e,this._bounds().max);e=Math.max(e,this._bounds().min)}return e},_round:function(c){if(this.options.step!==false&&this.options.step>0){return Math.round(c/this.options.step)*this.options.step}return c},_getPositionForValue:function(f){if(!this.cache||!this.cache.parent||this.cache.parent.offset===null){return 0}f=this._constraintValue(f);var d=(f-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),e=this.cache.parent.width,g=this.cache.parent.offset.left,c=this.options.isLeft?0:this.cache.width.outer;if(!this.options.symmetricPositionning){return d*e+g-c}return d*(e-2*this.cache.width.outer)+g+c},_getValueForPosition:function(c){var d=this._getRawValueForPositionAndBounds(c,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(d)},_getRawValueForPositionAndBounds:function(d,e,c){var h=this.cache.parent.offset===null?0:this.cache.parent.offset.left,g,f;if(this.options.symmetricPositionning){d-=this.options.isLeft?0:this.cache.width.outer;g=this.cache.parent.width-2*this.cache.width.outer}else{d+=this.options.isLeft?0:this.cache.width.outer;g=this.cache.parent.width}if(g===0){return this._value}f=(d-h)/g;return f*(c-e)+e},value:function(c){if(typeof c!=="undefined"){this._cache();c=this._constraintValue(c);this._position(c)}return this._value},update:function(){this._cache();var d=this._constraintValue(this._value),c=this._getPositionForValue(d);if(d!==this._value){this._triggerMouseEvent("updating");this._position(d);this._triggerMouseEvent("update")}else{if(c!==this.cache.offset.left){this._triggerMouseEvent("updating");this._position(d);this._triggerMouseEvent("update")}}},position:function(c){if(typeof c!=="undefined"){this._cache();c=this._constraintPosition(c);this._applyPosition(c)}return this._left},add:function(d,c){return d+c},substract:function(d,c){return d-c},stepsBetween:function(d,c){if(this.options.step===false){return c-d}return(c-d)/this.options.step},multiplyStep:function(d,c){return d*c},moveRight:function(d){var c;if(this.options.step===false){c=this._left;this.position(this._left+d);return this._left-c}c=this._value;this.value(this.add(c,this.multiplyStep(this.options.step,d)));return this.stepsBetween(c,this._value)},moveLeft:function(c){return -this.moveRight(-c)},stepRatio:function(){if(this.options.step===false){return 1}else{var c=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/c}}})}(jQuery));(function(b,c){b.widget("ui.rangeSliderBar",b.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:false,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:false,_create:function(){b.ui.rangeSliderDraggable.prototype._create.apply(this);
this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar");this.options.leftHandle.bind("initialize",b.proxy(this._onInitialized,this)).bind("mousestart",b.proxy(this._cache,this)).bind("stop",b.proxy(this._onHandleStop,this));this.options.rightHandle.bind("initialize",b.proxy(this._onInitialized,this)).bind("mousestart",b.proxy(this._cache,this)).bind("stop",b.proxy(this._onHandleStop,this));this._bindHandles();this._values=this.options.values;this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar");this.options.rightHandle.unbind(".bar");this.options=null;b.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(d,e){if(d==="range"){this._setRangeOption(e)}else{if(d==="wheelSpeed"){this._setWheelSpeedOption(e)}else{if(d==="wheelMode"){this._setWheelModeOption(e)}}}},_setRangeOption:function(f){if(typeof f!=="object"||f===null){f=false}if(f===false&&this.options.range===false){return}if(f!==false){var e=a(f.min,this.options.range.min),d=a(f.max,this.options.range.max);this.options.range={min:e,max:d}}else{this.options.range=false}this._setLeftRange();this._setRightRange()},_setWheelSpeedOption:function(d){if(typeof d==="number"&&d>0){this.options.wheelSpeed=d}},_setWheelModeOption:function(d){if(d===null||d===false||d==="zoom"||d==="scroll"){if(this.options.wheelMode!==d){this.element.parent().unbind("mousewheel.bar")}this._bindMouseWheel(d);this.options.wheelMode=d}},_bindMouseWheel:function(d){if(d==="zoom"){this.element.parent().bind("mousewheel.bar",b.proxy(this._mouseWheelZoom,this))}else{if(d==="scroll"){this.element.parent().bind("mousewheel.bar",b.proxy(this._mouseWheelScroll,this))}}},_setLeftRange:function(){if(this.options.range===false){return false}var d=this._values.max,e={min:false,max:false};if(typeof this.options.range.min!=="undefined"&&this.options.range.min!==false){e.max=this._leftHandle("substract",d,this.options.range.min)}else{e.max=false}if(typeof this.options.range.max!=="undefined"&&this.options.range.max!==false){e.min=this._leftHandle("substract",d,this.options.range.max)}else{e.min=false}this._leftHandle("option","range",e)},_setRightRange:function(){var e=this._values.min,d={min:false,max:false};if(typeof this.options.range.min!=="undefined"&&this.options.range.min!==false){d.min=this._rightHandle("add",e,this.options.range.min)}else{d.min=false}if(typeof this.options.range.max!=="undefined"&&this.options.range.max!==false){d.max=this._rightHandle("add",e,this.options.range.max)}else{d.max=false}this._rightHandle("option","range",d)},_deactivateRange:function(){this._leftHandle("option","range",false);this._rightHandle("option","range",false)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--;if(this._waitingToInit===0){this._initMe()}},_initMe:function(){this._cache();this.min(this._values.min);this.max(this._values.max);var e=this._leftHandle("position"),d=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:e});this.element.css("width",d-e)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(e,d){var f=Array.prototype.slice.call(d);return e[this.options.type].apply(e,f)},_cache:function(){b.ui.rangeSliderDraggable.prototype._cache.apply(this);this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={};this.cache.rightHandle.width=this.options.rightHandle.width();this.cache.rightHandle.offset=this.options.rightHandle.offset();this.cache.leftHandle={};this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(d){b.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[d]);this._deactivateRange()},_mouseStop:function(d){b.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[d]);this._cacheHandles();this._values.min=this._leftHandle("value");this._values.max=this._rightHandle("value");this._reactivateRange();this._leftHandle().trigger("stop");this._rightHandle().trigger("stop")},_onDragLeftHandle:function(d,e){this._cacheIfNecessary();if(e.element[0]!==this.options.leftHandle[0]){return}if(this._switchedValues()){this._switchHandles();this._onDragRightHandle(d,e);return}this._values.min=e.value;this.cache.offset.left=e.offset.left;this.cache.leftHandle.offset=e.offset;this._positionBar()},_onDragRightHandle:function(d,e){this._cacheIfNecessary();if(e.element[0]!==this.options.rightHandle[0]){return}if(this._switchedValues()){this._switchHandles();this._onDragLeftHandle(d,e);return}this._values.max=e.value;this.cache.rightHandle.offset=e.offset;this._positionBar()},_positionBar:function(){var d=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=d;this.element.css("width",d).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange();
this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var d=this._values.min;this._values.min=this._values.max;this._values.max=d;return true}return false},_switchHandles:function(){var d=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle;this.options.rightHandle=d;this._leftHandle("option","isLeft",true);this._rightHandle("option","isLeft",false);this._bindHandles();this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",b.proxy(this._onDragLeftHandle,this));this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",b.proxy(this._onDragRightHandle,this))},_constraintPosition:function(f){var d={},e;d.left=b.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[f]);d.left=this._leftHandle("position",d.left);e=this._rightHandle("position",d.left+this.cache.width.outer-this.cache.rightHandle.width);d.width=e-d.left+this.cache.rightHandle.width;return d},_applyPosition:function(d){b.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[d.left]);this.element.width(d.width)},_mouseWheelZoom:function(i,j,e,d){if(!this.enabled){return false}var f=this._values.min+(this._values.max-this._values.min)/2,g={},h={};if(this.options.range===false||this.options.range.min===false){g.max=f;h.min=f}else{g.max=f-this.options.range.min/2;h.min=f+this.options.range.min/2}if(this.options.range!==false&&this.options.range.max!==false){g.min=f-this.options.range.max/2;h.max=f+this.options.range.max/2}this._leftHandle("option","range",g);this._rightHandle("option","range",h);clearTimeout(this._wheelTimeout);this._wheelTimeout=setTimeout(b.proxy(this._wheelStop,this),200);this.zoomIn(d*this.options.wheelSpeed);return false},_mouseWheelScroll:function(f,g,e,d){if(!this.enabled){return false}if(this._wheelTimeout===false){this.startScroll()}else{clearTimeout(this._wheelTimeout)}this._wheelTimeout=setTimeout(b.proxy(this._wheelStop,this),200);this.scrollLeft(d*this.options.wheelSpeed);return false},_wheelStop:function(){this.stopScroll();this._wheelTimeout=false},min:function(d){return this._leftHandle("value",d)},max:function(d){return this._rightHandle("value",d)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange();this._triggerMouseEvent("stop");this._leftHandle().trigger("stop");this._rightHandle().trigger("stop")},scrollLeft:function(d){d=d||1;if(d<0){return this.scrollRight(-d)}d=this._leftHandle("moveLeft",d);this._rightHandle("moveLeft",d);this.update();this._triggerMouseEvent("scroll")},scrollRight:function(d){d=d||1;if(d<0){return this.scrollLeft(-d)}d=this._rightHandle("moveRight",d);this._leftHandle("moveRight",d);this.update();this._triggerMouseEvent("scroll")},zoomIn:function(e){e=e||1;if(e<0){return this.zoomOut(-e)}var d=this._rightHandle("moveLeft",e);if(e>d){d=d/2;this._rightHandle("moveRight",d)}this._leftHandle("moveRight",d);this.update();this._triggerMouseEvent("zoom")},zoomOut:function(e){e=e||1;if(e<0){return this.zoomIn(-e)}var d=this._rightHandle("moveRight",e);if(e>d){d=d/2;this._rightHandle("moveLeft",d)}this._leftHandle("moveLeft",d);this.update();this._triggerMouseEvent("zoom")},values:function(e,d){if(typeof e!=="undefined"&&typeof d!=="undefined"){var f=Math.min(e,d),g=Math.max(e,d);this._deactivateRange();this.options.leftHandle.unbind(".bar");this.options.rightHandle.unbind(".bar");this._values.min=this._leftHandle("value",f);this._values.max=this._rightHandle("value",g);this._bindHandles();this._reactivateRange();this.update()}return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min();this._values.max=this.max();this._cache();this._positionBar()}});function a(e,d){if(typeof e==="undefined"){return d||false}return e}}(jQuery));(function(b,c){b.widget("ui.rangeSliderLabel",b.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:false,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:false},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft");this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block");this._createElements();this._toggleClass();this.options.handle.bind("moving.label",b.proxy(this._onMoving,this)).bind("update.label",b.proxy(this._onUpdate,this)).bind("switch.label",b.proxy(this._onSwitch,this));if(this.options.show!=="show"){this.element.hide()}this._mouseInit()},destroy:function(){this.options.handle.unbind(".label");this.options.handle=null;this._valueContainer=null;this._innerElement=null;this.element.empty();if(this._positionner){this._positionner.Destroy();this._positionner=null}b.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=b("<div class='ui-rangeSlider-label-value' />").appendTo(this.element);this._innerElement=b("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)
},_handle:function(){var d=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,d)},_setOption:function(d,e){if(d==="show"){this._updateShowOption(e)}else{if(d==="durationIn"||d==="durationOut"||d==="delayOut"){this._updateDurations(d,e)}}this._setFormatterOption(d,e)},_setFormatterOption:function(d,e){if(d==="formatter"){if(typeof e==="function"||e===false){this.options.formatter=e;this._display(this._value)}}},_updateShowOption:function(d){this.options.show=d;if(this.options.show!=="show"){this.element.hide();this._positionner.moving=false}else{this.element.show();this._display(this.options.handle[this.options.handleType]("value"));this._positionner.PositionLabels()}this._positionner.options.show=this.options.show},_updateDurations:function(d,e){if(parseInt(e,10)!==e){return}this._positionner.options[d]=e;this.options[d]=e},_display:function(d){if(this.options.formatter===false){this._displayText(Math.round(d))}else{this._displayText(this.options.formatter(d))}this._value=d},_displayText:function(d){this._valueContainer.text(d)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_positionLabels:function(){this._positionner.PositionLabels()},_mouseDown:function(d){this.options.handle.trigger(d)},_mouseUp:function(d){this.options.handle.trigger(d)},_mouseMove:function(d){this.options.handle.trigger(d)},_onMoving:function(d,e){this._display(e.value)},_onUpdate:function(){if(this.options.show==="show"){this.update()}},_onSwitch:function(d,e){this.options.isLeft=e;this._toggleClass();this._positionLabels()},pair:function(d){if(this._positionner!==null){return}this._positionner=new a(this.element,d,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut});d[this.widgetName]("positionner",this._positionner)},positionner:function(d){if(typeof d!=="undefined"){this._positionner=d}return this._positionner},update:function(){this._positionner.cache=null;this._display(this._handle("value"));if(this.options.show==="show"){this._positionLabels()}}});function a(g,f,e,d){this.label1=g;this.label2=f;this.type=e;this.options=d;this.handle1=this.label1[this.type]("option","handle");this.handle2=this.label2[this.type]("option","handle");this.cache=null;this.left=g;this.right=f;this.moving=false;this.initialized=false;this.updating=false;this.Init=function(){this.BindHandle(this.handle1);this.BindHandle(this.handle2);if(this.options.show==="show"){setTimeout(b.proxy(this.PositionLabels,this),1);this.initialized=true}else{setTimeout(b.proxy(this.AfterInit,this),1000)}this._resizeProxy=b.proxy(this.onWindowResize,this);b(window).resize(this._resizeProxy)};this.Destroy=function(){if(this._resizeProxy){b(window).unbind("resize",this._resizeProxy);this._resizeProxy=null;this.handle1.unbind(".positionner");this.handle1=null;this.handle2.unbind(".positionner");this.handle2=null;this.label1=null;this.label2=null;this.left=null;this.right=null}this.cache=null};this.AfterInit=function(){this.initialized=true};this.Cache=function(){if(this.label1.css("display")==="none"){return}this.cache={};this.cache.label1={};this.cache.label2={};this.cache.handle1={};this.cache.handle2={};this.cache.offsetParent={};this.CacheElement(this.label1,this.cache.label1);this.CacheElement(this.label2,this.cache.label2);this.CacheElement(this.handle1,this.cache.handle1);this.CacheElement(this.handle2,this.cache.handle2);this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent)};this.CacheIfNecessary=function(){if(this.cache===null){this.Cache()}else{this.CacheWidth(this.label1,this.cache.label1);this.CacheWidth(this.label2,this.cache.label2);this.CacheHeight(this.label1,this.cache.label1);this.CacheHeight(this.label2,this.cache.label2);this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent)}};this.CacheElement=function(i,h){this.CacheWidth(i,h);this.CacheHeight(i,h);h.offset=i.offset();h.margin={left:this.ParsePixels("marginLeft",i),right:this.ParsePixels("marginRight",i)};h.border={left:this.ParsePixels("borderLeftWidth",i),right:this.ParsePixels("borderRightWidth",i)}};this.CacheWidth=function(i,h){h.width=i.width();h.outerWidth=i.outerWidth()};this.CacheHeight=function(i,h){h.outerHeightMargin=i.outerHeight(true)};this.ParsePixels=function(h,i){return parseInt(i.css(h),10)||0};this.BindHandle=function(h){h.bind("updating.positionner",b.proxy(this.onHandleUpdating,this));h.bind("update.positionner",b.proxy(this.onHandleUpdated,this));h.bind("moving.positionner",b.proxy(this.onHandleMoving,this));h.bind("stop.positionner",b.proxy(this.onHandleStop,this))};this.PositionLabels=function(){this.CacheIfNecessary();if(this.cache===null){return}var h=this.GetRawPosition(this.cache.label1,this.cache.handle1),i=this.GetRawPosition(this.cache.label2,this.cache.handle2);if(this.label1[e]("option","isLeft")){this.ConstraintPositions(h,i)
}else{this.ConstraintPositions(i,h)}this.PositionLabel(this.label1,h.left,this.cache.label1);this.PositionLabel(this.label2,i.left,this.cache.label2)};this.PositionLabel=function(k,m,i){var h=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left,j,l,n;if((h-m)>=0){k.css("right","");k.offset({left:m})}else{j=h+this.cache.offsetParent.width;l=m+i.margin.left+i.outerWidth+i.margin.right;n=j-l;k.css("left","");k.css("right",n)}};this.ConstraintPositions=function(i,h){if((i.center<h.center&&i.outerRight>h.outerLeft)||(i.center>h.center&&h.outerRight>i.outerLeft)){i=this.getLeftPosition(i,h);h=this.getRightPosition(i,h)}};this.getLeftPosition=function(k,j){var h=(j.center+k.center)/2,i=h-k.cache.outerWidth-k.cache.margin.right+k.cache.border.left;k.left=i;return k};this.getRightPosition=function(j,i){var h=(i.center+j.center)/2;i.left=h+i.cache.margin.left+i.cache.border.left;return i};this.ShowIfNecessary=function(){if(this.options.show==="show"||this.moving||!this.initialized||this.updating){return}this.label1.stop(true,true).fadeIn(this.options.durationIn||0);this.label2.stop(true,true).fadeIn(this.options.durationIn||0);this.moving=true};this.HideIfNeeded=function(){if(this.moving===true){this.label1.stop(true,true).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0);this.label2.stop(true,true).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0);this.moving=false}};this.onHandleMoving=function(h,i){this.ShowIfNecessary();this.CacheIfNecessary();this.UpdateHandlePosition(i);this.PositionLabels()};this.onHandleUpdating=function(){this.updating=true};this.onHandleUpdated=function(){this.updating=false;this.cache=null};this.onHandleStop=function(){this.HideIfNeeded()};this.onWindowResize=function(){this.cache=null};this.UpdateHandlePosition=function(h){if(this.cache===null){return}if(h.element[0]===this.handle1[0]){this.UpdatePosition(h,this.cache.handle1)}else{this.UpdatePosition(h,this.cache.handle2)}};this.UpdatePosition=function(i,h){h.offset=i.offset;h.value=i.value};this.GetRawPosition=function(l,m){var h=m.offset.left+m.outerWidth/2,j=h-l.outerWidth/2,n=j+l.outerWidth-l.border.left-l.border.right,i=j-l.margin.left-l.border.left,k=m.offset.top-l.outerHeightMargin;return{left:j,outerLeft:i,top:k,right:n,outerRight:i+l.outerWidth+l.margin.left+l.margin.right,cache:l,center:h}};this.Init()}}(jQuery));(function(a,b){a.widget("ui.rangeSlider",{options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:true,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:false,max:false},step:false,scales:false,enabled:true,symmetricPositionning:false},_values:null,_valuesChanged:false,_initialized:false,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:false,max:false},changed:{min:false,max:false},ruler:null,_create:function(){this._setDefaultValues();this.labels={left:null,right:null,leftDisplayed:true,rightDisplayed:true};this.arrows={left:null,right:null};this.changing={min:false,max:false};this.changed={min:false,max:false};this._createElements();this._bindResize();setTimeout(a.proxy(this.resize,this),1);setTimeout(a.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var c=this;this._resizeProxy=function(d){c.resize(d)};a(window).resize(this._resizeProxy)},_initWidth:function(){this.container.css("width",this.element.width()-this.container.outerWidth(true)+this.container.width());this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(true)+this.innerBar.width())},_initValues:function(){this._initialized=true;this.values(this._values.min,this._values.max)},_setOption:function(c,d){this._setWheelOption(c,d);this._setArrowsOption(c,d);this._setLabelsOption(c,d);this._setLabelsDurations(c,d);this._setFormatterOption(c,d);this._setBoundsOption(c,d);this._setRangeOption(c,d);this._setStepOption(c,d);this._setScalesOption(c,d);this._setEnabledOption(c,d);this._setPositionningOption(c,d)},_validProperty:function(e,d,c){if(e===null||typeof e[d]==="undefined"){return c}return e[d]},_setStepOption:function(c,d){if(c==="step"){this.options.step=d;this._leftHandle("option","step",d);this._rightHandle("option","step",d);this._changed(true)}},_setScalesOption:function(c,d){if(c==="scales"){if(d===false||d===null){this.options.scales=false;this._destroyRuler()}else{if(d instanceof Array){this.options.scales=d;this._updateRuler()}}}},_setRangeOption:function(c,d){if(c==="range"){this._bar("option","range",d);this.options.range=this._bar("option","range");this._changed(true)}},_setBoundsOption:function(c,d){if(c==="bounds"&&typeof d.min!=="undefined"&&typeof d.max!=="undefined"){this.bounds(d.min,d.max)}},_setWheelOption:function(c,d){if(c==="wheelMode"||c==="wheelSpeed"){this._bar("option",c,d);this.options[c]=this._bar("option",c)
}},_setLabelsOption:function(c,d){if(c==="valueLabels"){if(d!=="hide"&&d!=="show"&&d!=="change"){return}this.options.valueLabels=d;if(d!=="hide"){this._createLabels();this._leftLabel("update");this._rightLabel("update")}else{this._destroyLabels()}}},_setFormatterOption:function(c,d){if(c==="formatter"&&d!==null&&typeof d==="function"){if(this.options.valueLabels!=="hide"){this._leftLabel("option","formatter",d);this.options.formatter=this._rightLabel("option","formatter",d)}}},_setArrowsOption:function(c,d){if(c==="arrows"&&(d===true||d===false)&&d!==this.options.arrows){if(d===true){this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows");this.arrows.left.css("display","block");this.arrows.right.css("display","block");this.options.arrows=true}else{if(d===false){this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows");this.arrows.left.css("display","none");this.arrows.right.css("display","none");this.options.arrows=false}}this._initWidth()}},_setLabelsDurations:function(c,d){if(c==="durationIn"||c==="durationOut"||c==="delayOut"){if(parseInt(d,10)!==d){return}if(this.labels.left!==null){this._leftLabel("option",c,d)}if(this.labels.right!==null){this._rightLabel("option",c,d)}this.options[c]=d}},_setEnabledOption:function(c,d){if(c==="enabled"){this.toggle(d)}},_setPositionningOption:function(c,d){if(c==="symmetricPositionning"){this._rightHandle("option",c,d);this.options[c]=this._leftHandle("option",c,d)}},_createElements:function(){if(this.element.css("position")!=="absolute"){this.element.css("position","relative")}this.element.addClass("ui-rangeSlider");this.container=a("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element);this.innerBar=a("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0);this._createHandles();this._createBar();this.container.prepend(this.innerBar);this._createArrows();if(this.options.valueLabels!=="hide"){this._createLabels()}else{this._destroyLabels()}this._updateRuler();if(!this.options.enabled){this._toggle(this.options.enabled)}},_createHandle:function(c){return a("<div />")[this._handleType()](c).bind("sliderDrag",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:true,bounds:this.options.bounds,value:this._values.min,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container);this.rightHandle=this._createHandle({isLeft:false,bounds:this.options.bounds,value:this._values.max,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container)},_createBar:function(){this.bar=a("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",a.proxy(this._changing,this)).bind("stop",a.proxy(this._changed,this));this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed});this.options.range=this._bar("option","range");this.options.wheelMode=this._bar("option","wheelMode");this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left");this.arrows.right=this._createArrow("right");if(!this.options.arrows){this.arrows.left.css("display","none");this.arrows.right.css("display","none");this.element.addClass("ui-rangeSlider-noArrow")}else{this.element.addClass("ui-rangeSlider-withArrows")}},_createArrow:function(c){var d=a("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+c+"Arrow").css("position","absolute").css(c,0).appendTo(this.element),e;if(c==="right"){e=a.proxy(this._scrollRightClick,this)}else{e=a.proxy(this._scrollLeftClick,this)}d.bind("mousedown touchstart",e);return d},_proxy:function(d,e,c){var f=Array.prototype.slice.call(c);if(d&&d[e]){return d[e].apply(d,f)}return null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(c,d){if(d===this.rightHandle){c=c-d.outerWidth()}return c*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-d.outerWidth(true))+this.options.bounds.min},_trigger:function(c){var d=this;setTimeout(function(){d.element.trigger(c,{label:d.element,values:d.values()})},1)},_changing:function(){if(this._updateValues()){this._trigger("valuesChanging");
this._valuesChanged=true}},_deactivateLabels:function(){if(this.options.valueLabels==="change"){this._leftLabel("option","show","hide");this._rightLabel("option","show","hide")}},_reactivateLabels:function(){if(this.options.valueLabels==="change"){this._leftLabel("option","show","change");this._rightLabel("option","show","change")}},_changed:function(c){if(c===true){this._deactivateLabels()}if(this._updateValues()||this._valuesChanged){this._trigger("valuesChanged");if(c!==true){this._trigger("userValuesChanged")}this._valuesChanged=false}if(c===true){this._reactivateLabels()}},_updateValues:function(){var f=this._leftHandle("value"),e=this._rightHandle("value"),d=this._min(f,e),c=this._max(f,e),g=(d!==this._values.min||c!==this._values.max);this._values.min=this._min(f,e);this._values.max=this._max(f,e);return g},_min:function(d,c){return Math.min(d,c)},_max:function(d,c){return Math.max(d,c)},_createLabel:function(c,d){var e;if(c===null){e=this._getLabelConstructorParameters(c,d);c=a("<div />").appendTo(this.element)[this._labelType()](e)}else{e=this._getLabelRefreshParameters(c,d);c[this._labelType()](e)}return c},_getLabelConstructorParameters:function(c,d){return{handle:d,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){if(this.options.formatter===false||this.options.formatter===null){return this._defaultFormatter}return this.options.formatter},_defaultFormatter:function(c){return Math.round(c)},_destroyLabel:function(c){if(c!==null){c[this._labelType()]("destroy");c.remove();c=null}return c},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle);this.labels.right=this._createLabel(this.labels.right,this.rightHandle);this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left);this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(c){if(!this.options.enabled){return false}c.preventDefault();this._bar("startScroll");this._bindStopScroll();this._continueScrolling("scrollRight",4*this._stepRatio(),1)},_continueScrolling:function(h,g,i,d){if(!this.options.enabled){return false}this._bar(h,i);d=d||5;d--;var f=this,c=16,e=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){if(d===0){if(g>c){g=Math.max(c,g/1.5)}else{i=Math.min(e,i*2)}d=5}f._continueScrolling(h,g,i,d)},g)},_scrollLeftClick:function(c){if(!this.options.enabled){return false}c.preventDefault();this._bar("startScroll");this._bindStopScroll();this._continueScrolling("scrollLeft",4*this._stepRatio(),1)},_bindStopScroll:function(){var c=this;this._stopScrollHandle=function(d){d.preventDefault();c._stopScroll()};a(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){a(document).unbind("mouseup touchend",this._stopScrollHandle);this._stopScrollHandle=null;this._bar("stopScroll");clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=a("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){if(this.ruler!==null&&a.fn.ruler){this.ruler.ruler("destroy");this.ruler.remove();this.ruler=null}},_updateRuler:function(){this._destroyRuler();if(this.options.scales===false||!a.fn.ruler){return}this._createRuler();this._setRulerParameters()},values:function(d,c){var e;if(typeof d!=="undefined"&&typeof c!=="undefined"){if(!this._initialized){this._values.min=d;this._values.max=c;return this._values}this._deactivateLabels();e=this._bar("values",d,c);this._changed(true);this._reactivateLabels()}else{e=this._bar("values",d,c)}return e},min:function(c){this._values.min=this.values(c,this._values.max).min;return this._values.min},max:function(c){this._values.max=this.values(this._values.min,c).max;return this._values.max},bounds:function(d,c){if(this._isValidValue(d)&&this._isValidValue(c)&&d<c){this._setBounds(d,c);this._updateRuler();this._changed(true)}return this.options.bounds},_isValidValue:function(c){return typeof c!=="undefined"&&parseFloat(c)===c},_setBounds:function(d,c){this.options.bounds={min:d,max:c};this._leftHandle("option","bounds",this.options.bounds);this._rightHandle("option","bounds",this.options.bounds);this._bar("option","bounds",this.options.bounds)},zoomIn:function(c){this._bar("zoomIn",c)},zoomOut:function(c){this._bar("zoomOut",c)},scrollLeft:function(c){this._bar("startScroll");this._bar("scrollLeft",c);this._bar("stopScroll")},scrollRight:function(c){this._bar("startScroll");
this._bar("scrollRight",c);this._bar("stopScroll")},resize:function(){this._initWidth();this._leftHandle("update");this._rightHandle("update");this._bar("update")},enable:function(){this.toggle(true)},disable:function(){this.toggle(false)},toggle:function(c){if(c===b){c=!this.options.enabled}if(this.options.enabled!==c){this._toggle(c)}},_toggle:function(c){this.options.enabled=c;this.element.toggleClass("ui-rangeSlider-disabled",!c);var d=c?"enable":"disable";this._bar(d);this._leftHandle(d);this._rightHandle(d);this._leftLabel(d);this._rightLabel(d)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled");this._destroyWidgets();this._destroyElements();this.element.removeClass("ui-rangeSlider");this.options=null;a(window).unbind("resize",this._resizeProxy);this._resizeProxy=null;this._bindResize=null;a.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(c){this["_"+c]("destroy");this[c].remove();this[c]=null},_destroyWidgets:function(){this._destroyWidget("bar");this._destroyWidget("leftHandle");this._destroyWidget("rightHandle");this._destroyRuler();this._destroyLabels()},_destroyElements:function(){this.container.remove();this.container=null;this.innerBar.remove();this.innerBar=null;this.arrows.left.remove();this.arrows.right.remove();this.arrows=null}})}(jQuery));(function(a,b){a.widget("ui.dateRangeSliderHandle",a.ui.rangeSliderHandle,{_steps:false,_boundsValues:{},_create:function(){this._createBoundsValues();a.ui.rangeSliderHandle.prototype._create.apply(this)},_getValueForPosition:function(c){var d=this._getRawValueForPositionAndBounds(c,this.options.bounds.min.valueOf(),this.options.bounds.max.valueOf());return this._constraintValue(new Date(d))},_setOption:function(c,d){if(c==="step"){this.options.step=d;this._createSteps();this.update();return}a.ui.rangeSliderHandle.prototype._setOption.apply(this,[c,d]);if(c==="bounds"){this._createBoundsValues()}},_createBoundsValues:function(){this._boundsValues={min:this.options.bounds.min.valueOf(),max:this.options.bounds.max.valueOf()}},_bounds:function(){return this._boundsValues},_createSteps:function(){if(this.options.step===false||!this._isValidStep()){this._steps=false;return}var e=new Date(this.options.bounds.min.valueOf()),f=new Date(this.options.bounds.max.valueOf()),g=e,c=0,d=new Date();this._steps=[];while(g<=f&&(c===1||d.valueOf()!==g.valueOf())){d=g;this._steps.push(g.valueOf());g=this._addStep(e,c,this.options.step);c++}if(d.valueOf()===g.valueOf()){this._steps=false}},_isValidStep:function(){return typeof this.options.step==="object"},_addStep:function(d,e,f){var c=new Date(d.valueOf());c=this._addThing(c,"FullYear",e,f.years);c=this._addThing(c,"Month",e,f.months);c=this._addThing(c,"Date",e,f.weeks*7);c=this._addThing(c,"Date",e,f.days);c=this._addThing(c,"Hours",e,f.hours);c=this._addThing(c,"Minutes",e,f.minutes);c=this._addThing(c,"Seconds",e,f.seconds);return c},_addThing:function(d,c,e,f){if(e===0||(f||0)===0){return d}d["set"+c](d["get"+c]()+e*(f||0));return d},_round:function(h){if(this._steps===false){return h}var c=this.options.bounds.max.valueOf(),e=this.options.bounds.min.valueOf(),f=Math.max(0,(h-e)/(c-e)),d=Math.floor(this._steps.length*f),g,i;while(this._steps[d]>h){d--}while(d+1<this._steps.length&&this._steps[d+1]<=h){d++}if(d>=this._steps.length-1){return this._steps[this._steps.length-1]}else{if(d===0){return this._steps[0]}}g=this._steps[d];i=this._steps[d+1];if(h-g<i-h){return g}return i},update:function(){this._createBoundsValues();this._createSteps();a.ui.rangeSliderHandle.prototype.update.apply(this)},add:function(c,d){return this._addStep(new Date(c),1,d).valueOf()},substract:function(c,d){return this._addStep(new Date(c),-1,d).valueOf()},stepsBetween:function(i,g){if(this.options.step===false){return g-i}var f=Math.min(i,g),c=Math.max(i,g),d=0,e=false,h=i>g;if(this.add(f,this.options.step)-f<0){e=true}while(f<c){if(e){c=this.add(c,this.options.step)}else{f=this.add(f,this.options.step)}d++}return h?-d:d},multiplyStep:function(f,e){var c={};for(var d in f){if(f.hasOwnProperty(d)){c[d]=f[d]*e}}return c},stepRatio:function(){if(this.options.step===false){return 1}else{var c=this._steps.length;return this.cache.parent.width/c}}})}(jQuery));(function(a,b){a.widget("ui.dateRangeSlider",a.ui.rangeSlider,{options:{bounds:{min:new Date(2010,0,1).valueOf(),max:new Date(2012,0,1).valueOf()},defaultValues:{min:new Date(2010,1,11).valueOf(),max:new Date(2011,1,11).valueOf()}},_create:function(){a.ui.rangeSlider.prototype._create.apply(this);this.element.addClass("ui-dateRangeSlider")},destroy:function(){this.element.removeClass("ui-dateRangeSlider");a.ui.rangeSlider.prototype.destroy.apply(this)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min.valueOf(),max:this.options.defaultValues.max.valueOf()}},_setRulerParameters:function(){this.ruler.ruler({min:new Date(this.options.bounds.min.valueOf()),max:new Date(this.options.bounds.max.valueOf()),scales:this.options.scales})
},_setOption:function(c,d){if((c==="defaultValues"||c==="bounds")&&typeof d!=="undefined"&&d!==null&&this._isValidDate(d.min)&&this._isValidDate(d.max)){a.ui.rangeSlider.prototype._setOption.apply(this,[c,{min:d.min.valueOf(),max:d.max.valueOf()}])}else{a.ui.rangeSlider.prototype._setOption.apply(this,this._toArray(arguments))}},_handleType:function(){return"dateRangeSliderHandle"},option:function(d){if(d==="bounds"||d==="defaultValues"){var c=a.ui.rangeSlider.prototype.option.apply(this,arguments);return{min:new Date(c.min),max:new Date(c.max)}}return a.ui.rangeSlider.prototype.option.apply(this,this._toArray(arguments))},_defaultFormatter:function(d){var e=d.getMonth()+1,c=d.getDate();return""+d.getFullYear()+"-"+(e<10?"0"+e:e)+"-"+(c<10?"0"+c:c)},_getFormatter:function(){var c=this.options.formatter;if(this.options.formatter===false||this.options.formatter===null){c=this._defaultFormatter}return(function(d){return function(e){return d(new Date(e))}}(c))},values:function(e,c){var d=null;if(this._isValidDate(e)&&this._isValidDate(c)){d=a.ui.rangeSlider.prototype.values.apply(this,[e.valueOf(),c.valueOf()])}else{d=a.ui.rangeSlider.prototype.values.apply(this,this._toArray(arguments))}return{min:new Date(d.min),max:new Date(d.max)}},min:function(c){if(this._isValidDate(c)){return new Date(a.ui.rangeSlider.prototype.min.apply(this,[c.valueOf()]))}return new Date(a.ui.rangeSlider.prototype.min.apply(this))},max:function(c){if(this._isValidDate(c)){return new Date(a.ui.rangeSlider.prototype.max.apply(this,[c.valueOf()]))}return new Date(a.ui.rangeSlider.prototype.max.apply(this))},bounds:function(e,d){var c;if(this._isValidDate(e)&&this._isValidDate(d)){c=a.ui.rangeSlider.prototype.bounds.apply(this,[e.valueOf(),d.valueOf()])}else{c=a.ui.rangeSlider.prototype.bounds.apply(this,this._toArray(arguments))}return{min:new Date(c.min),max:new Date(c.max)}},_isValidDate:function(c){return typeof c!=="undefined"&&c instanceof Date},_toArray:function(c){return Array.prototype.slice.call(c)}})}(jQuery));(function(a){a.widget("ui.editRangeSliderLabel",a.ui.rangeSliderLabel,{options:{type:"text",step:false,id:""},_input:null,_text:"",_create:function(){a.ui.rangeSliderLabel.prototype._create.apply(this);this._createInput()},_setOption:function(b,c){if(b==="type"){this._setTypeOption(c)}else{if(b==="step"){this._setStepOption(c)}}a.ui.rangeSliderLabel.prototype._setOption.apply(this,[b,c])},_createInput:function(){this._input=a("<input type='"+this.options.type+"' />").addClass("ui-editRangeSlider-inputValue").appendTo(this._valueContainer);this._setInputName();this._input.bind("keyup",a.proxy(this._onKeyUp,this));this._input.blur(a.proxy(this._onChange,this));if(this.options.type==="number"){if(this.options.step!==false){this._input.attr("step",this.options.step)}this._input.click(a.proxy(this._onChange,this))}this._input.val(this._text)},_setInputName:function(){var b=this.options.isLeft?"left":"right";this._input.attr("name",this.options.id+b)},_onSwitch:function(b,c){a.ui.rangeSliderLabel.prototype._onSwitch.apply(this,[b,c]);this._setInputName()},_destroyInput:function(){this._input.remove();this._input=null},_onKeyUp:function(b){if(b.which===13){this._onChange(b);return false}},_onChange:function(){var b=this._returnCheckedValue(this._input.val());if(b!==false){this._triggerValue(b)}},_triggerValue:function(b){var c=this.options.handle[this.options.handleType]("option","isLeft");this.element.trigger("valueChange",[{isLeft:c,value:b}])},_returnCheckedValue:function(c){var b=parseFloat(c);if(isNaN(b)||isNaN(Number(c))){return false}return b},_setTypeOption:function(b){if((b==="text"||b==="number")&&this.options.type!==b){this._destroyInput();this.options.type=b;this._createInput()}},_setStepOption:function(b){this.options.step=b;if(this.options.type==="number"){this._input.attr("step",b!==false?b:"any")}},_displayText:function(b){this._input.val(b);this._text=b},enable:function(){a.ui.rangeSliderLabel.prototype.enable.apply(this);this._input.attr("disabled",null)},disable:function(){a.ui.rangeSliderLabel.prototype.disable.apply(this);this._input.attr("disabled","disabled")}})}(jQuery));(function(a,b){a.widget("ui.editRangeSlider",a.ui.rangeSlider,{options:{type:"text",round:1},_create:function(){a.ui.rangeSlider.prototype._create.apply(this);this.element.addClass("ui-editRangeSlider")},destroy:function(){this.element.removeClass("ui-editRangeSlider");a.ui.rangeSlider.prototype.destroy.apply(this)},_setOption:function(c,d){if(c==="type"||c==="step"){this._setLabelOption(c,d)}if(c==="type"){this.options[c]=this.labels.left===null?d:this._leftLabel("option",c)}a.ui.rangeSlider.prototype._setOption.apply(this,[c,d])},_setLabelOption:function(c,d){if(this.labels.left!==null){this._leftLabel("option",c,d);this._rightLabel("option",c,d)}},_labelType:function(){return"editRangeSliderLabel"},_createLabel:function(d,e){var c=a.ui.rangeSlider.prototype._createLabel.apply(this,[d,e]);if(d===null){c.bind("valueChange",a.proxy(this._onValueChange,this))
}return c},_addPropertiesToParameter:function(c){c.type=this.options.type;c.step=this.options.step;c.id=this.element.attr("id");return c},_getLabelConstructorParameters:function(c,e){var d=a.ui.rangeSlider.prototype._getLabelConstructorParameters.apply(this,[c,e]);return this._addPropertiesToParameter(d)},_getLabelRefreshParameters:function(c,e){var d=a.ui.rangeSlider.prototype._getLabelRefreshParameters.apply(this,[c,e]);return this._addPropertiesToParameter(d)},_onValueChange:function(c,d){var e=false;if(d.isLeft){e=this._values.min!==this.min(d.value)}else{e=this._values.max!==this.max(d.value)}if(e){this._trigger("userValuesChanged")}}})}(jQuery));(function(b){var a={first:function(c){return c},next:function(c){return c+1},format:function(){return},label:function(c){return Math.round(c)},stop:function(){return false}};b.widget("ui.ruler",{options:{min:0,max:100,scales:[]},_create:function(){this.element.addClass("ui-ruler");this._createScales()},destroy:function(){this.element.removeClass("ui-ruler");this.element.empty()},_regenerate:function(){this.element.empty();this._createScales()},_setOption:function(c,d){if(c==="min"||c==="max"&&d!==this.options[c]){this.options[c]=d;this._regenerate();return}if(c==="scales"&&d instanceof Array){this.options.scales=d;this._regenerate();return}},_createScales:function(){if(this.options.max===this.options.min){return}for(var c=0;c<this.options.scales.length;c++){this._createScale(this.options.scales[c],c)}},_createScale:function(f,e){var d=b.extend({},a,f),c=b("<div class='ui-ruler-scale' />").appendTo(this.element);c.addClass("ui-ruler-scale"+e);this._createTicks(c,d)},_createTicks:function(e,d){var j,c=d.first(this.options.min,this.options.max),i=this.options.max-this.options.min,h=true,g,f;do{j=c;c=d.next(j);g=(Math.min(c,this.options.max)-Math.max(j,this.options.min))/i;f=this._createTick(j,c,d);e.append(f);f.css("width",100*g+"%");if(h&&j>this.options.min){f.css("margin-left",100*(j-this.options.min)/i+"%")}h=false}while(!this._stop(d,c))},_stop:function(c,d){return c.stop(d)||d>=this.options.max},_createTick:function(h,e,d){var c=b("<div class='ui-ruler-tick' style='display:inline-block' />"),f=b("<div class='ui-ruler-tick-inner' />").appendTo(c),g=b("<span class='ui-ruler-tick-label' />").appendTo(f);g.text(d.label(h,e));d.format(c,h,e);return c}})}(jQuery));